<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Questionário Manual</title>
<link href="https://unpkg.com/survey-core/defaultV2.min.css" rel="stylesheet"/>
<script src="https://unpkg.com/survey-core/survey.core.min.js"></script>
<script src="https://unpkg.com/survey-knockout/survey.ko.min.js"></script>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  button { margin: 6px; padding: 8px 14px; cursor: pointer; }
  #surveyContainer { margin-top: 24px; }
</style>
</head>
<body>

<h2>Questionário de Teste</h2>
<p>Este questionário já está carregado automaticamente para testes.</p>

<div id="surveyContainer"></div>

<script>
// Questionário padrão para teste
const questionarioTeste = {
  "title": "Pesquisa de Satisfação - Teste",
  "elements": [
    {"type":"text","name":"nome","title":"Qual é o seu nome?", "isRequired":true},
    {"type":"radiogroup","name":"satisfacao","title":"Como você avalia nosso serviço?", "choices":["Ótimo","Bom","Regular","Ruim"]},
    {"type":"checkbox","name":"servicos","title":"Quais serviços você utilizou?", "choices":["Atendimento","Entrega","Suporte","Outros"]},
    {"type":"comment","name":"comentario","title":"Comentários adicionais"}
  ]
};

// URL do Apps Script
const webhook = "https://script.google.com/macros/s/AKfycbz6WlSBoH5kUHwrDx282708s-j4BZIEIs7lA4wWVxFY2QZXNP1T5ZGF2AOrfgZ2To88BA/exec";

// Cria o SurveyJS model e renderiza automaticamente
const survey = new Survey.Model(questionarioTeste);

survey.onComplete.add((s) => {
  const dados = s.data;
  fetch(webhook, {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({questionario: questionarioTeste.title, respostas: dados})
  })
  .then(r => r.json())
  .then(() => alert('Enviado com sucesso!'))
  .catch(err => alert('Erro ao enviar: ' + err));
});

Survey.SurveyNG.render('surveyContainer', {model: survey});
</script>

</body>
</html>
